<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test d’intégration système</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 text-gray-900">

<!-- Header -->
<header class="bg-blue-600 text-white p-6">
    <div class="container mx-auto">
        <h1 id="pageTitle" class="text-3xl font-bold">Test d’intégration système</h1>
        <p id="pageSubtitle" class="text-xl mt-2">Tester les interactions entre plusieurs systèmes</p>
        <nav class="mt-4">
            <a href="../index.html" class="text-lg hover:underline">Retour à l’accueil</a>
        </nav>
    </div>
</header>

<!-- Main Content -->
<section class="container mx-auto mt-10">
    <h2 class="text-2xl font-semibold" id="introTitle">Qu’est-ce que le test d’intégration système&nbsp;?</h2>
    <p id="introText" class="mt-4 text-lg">
        Le test d’intégration système vérifie que différents sous-systèmes ou composants interagissent correctement les uns avec les autres au sein d’un même système.
    </p>

    <!-- Interactive Example -->
    <div id="interactiveSection" class="mt-8">
        <h3 class="text-xl font-bold">Exemple interactif&nbsp;: Intégration du paiement, de l’inventaire et de Google Auth</h3>
        <p class="mt-2">
            Simulez un système de paiement et un système d’inventaire pour voir comment ils fonctionnent ensemble.
            En bonus, testez une <strong>connexion via Google</strong> pour récupérer un nom d’utilisateur.
        </p>

        <div class="mt-4">
            <!-- Button to trigger payment -->
            <button id="triggerPayment" class="bg-green-500 px-4 py-2 rounded mr-2">Lancer le paiement</button>
            <!-- Button to trigger inventory -->
            <button id="triggerInventory" class="bg-blue-500 px-4 py-2 rounded mr-2" disabled>Mettre à jour l’inventaire</button>
            <!-- NEW: Button to simulate Google Auth -->
            <button id="googleSignIn" class="bg-red-500 px-4 py-2 rounded text-white">Se connecter avec Google</button>
        </div>

        <!-- Mock Payment System -->
        <div id="paymentSystem" class="mt-4 hidden bg-white p-4 rounded shadow-lg">
            <h4 class="text-xl font-bold">Système de paiement simulé</h4>
            <label class="block mt-4">Numéro de carte de crédit&nbsp;:</label>
            <input type="text" id="creditCardInput" class="border p-2 w-full" placeholder="Saisissez un numéro de carte" required>
            <label class="block mt-4">Montant&nbsp;:</label>
            <input type="text" id="amountInput" class="border p-2 w-full" placeholder="Saisissez le montant" required>
            <button id="confirmPayment" class="bg-green-500 text-white px-4 py-2 mt-4 rounded">Confirmer le paiement</button>
        </div>

        <!-- Inventory System -->
        <div id="inventorySystem" class="mt-8 hidden bg-white p-4 rounded shadow-lg">
            <h4 class="text-xl font-bold">Système d’inventaire</h4>
            <ul id="inventoryList" class="mt-4 list-disc pl-8">
                <li>Article 1 <button class="bg-red-400 px-2 py-1 ml-4" onclick="removeItemFromInventory(1)">Expédier au client</button></li>
                <li>Article 2 <button class="bg-red-400 px-2 py-1 ml-4" onclick="removeItemFromInventory(2)">Expédier au client</button></li>
                <li>Article 3 <button class="bg-red-400 px-2 py-1 ml-4" onclick="removeItemFromInventory(3)">Expédier au client</button></li>
            </ul>
        </div>

        <!-- NEW: Display Google user info -->
        <div id="googleAuthSystem" class="mt-8 hidden bg-white p-4 rounded shadow-lg">
            <h4 class="text-xl font-bold">Authentification Google</h4>
            <p class="mt-2">Bienvenue, <span id="googleUserName" class="font-semibold"></span>!</p>
        </div>

        <p id="integrationResult" class="mt-4 text-lg"></p>
    </div>

    <!-- Code Example (Real-time) -->
    <div id="codeSection" class="mt-8">
        <h3 class="text-xl font-bold">Code derrière l’opération</h3>
        <pre id="codeBlock" class="bg-gray-200 p-4 rounded mt-4">
<code>
// JavaScript pour l’intégration système
let paymentProcessed = false;
let inventory = {1: "Article 1", 2: "Article 2", 3: "Article 3"};
let googleUserName = ""; // Nom récupéré lors de la connexion Google

// Fonction pour traiter le paiement
function processPayment(cardNumber, amount) {
    if (cardNumber && amount) {
        paymentProcessed = true;
        return "Paiement de " + amount + "€ effectué avec succès !";
    }
    return "Veuillez saisir un numéro de carte et un montant valides.";
}

// Fonction pour mettre à jour l’inventaire
function updateInventory() {
    if (paymentProcessed) {
        return "Inventaire prêt pour l’expédition !";
    } else {
        return "L’inventaire ne peut pas être mis à jour sans paiement.";
    }
}

// Fonction pour simuler la connexion Google
function handleGoogleSignIn() {
    googleUserName = "Utilisateur Google (exemple)";
    return googleUserName;
}
</code>
        </pre>
    </div>

    <!-- Lottie Animation -->
    <div id="lottie-container" class="mt-8">
        <div id="lottie-animation" style="width: 200px; height: 200px;"></div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white mt-16 p-4">
    <p class="text-center">© 2024 Belhaj Ouajdi</p>
</footer>

<!-- GSAP and Lottie -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
<script src="scripts.js"></script>
</body>
</html>
